<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('head', {}); %>

    <script src="../projectForm.js" defer></script>
    <script src="../message.js" defer></script>
</head>
<body>
    <%- include('header', {select: 0, projectName: "Projects"}); %>

    <div class="title">
        Projets
        <a href="/projects/create" id="addProjectButton" class="medium_case button ml-auto">Ajouter</a>
    </div>
    <div class="list">
        <div class="list_title">
            <div class="small_case value">Clé</div>
            <div class="flex-grow-1 value ">Name</div>
            <div class="small_case value "></div>
            <div class="small_case value "></div>
        </div>
        <% projects.forEach(function(project) { %>
            <div class="d-flex" id="PR<%=project.id%>">
                <a href="/projects/select?projectId=<%= project.id %>" class="flex-grow-1 list_line">
                    <div class="small_case  elements value font-weight-bold" id="KEY<%=project.id%>"><%= project.key %></div>
                    <div class=" elements text" id="TI<%= project.id%>"><%= project.name %></div>
                </a>
                <div class="small_case center"><button class="button" id="drawFormProject<%= project.key %>" onclick="showPopup('<%= project.id %>')"><i class="fas fa-cogs"></i></button></div>
            </div>
        <% }); %>
    </div>

    <div class="popup" id="Form">
        <span class="background"></span>
        <div class="form content">
            <input type="hidden" name="id" id="id" readonly>
            <div class="group">
                <div class="subtitle">Clé</div>
                <input class="elements text font-weight-bold" type="text" name="key" id="key" readonly>
            </div>
            <div class="group">
                <div class="subtitle">Nom</div>
                <input class="elements text" type="text" name="name" id="name">
            </div>
            <div class="group">
                <div class="button reject m-2 p-2" id="rejectForm">Annuler</div>
                <div class="button valid m-2 p-2" id="validForm">Valider</div>
            </div>
        </div>
    </div>



    <%- include('footer', {}); %>
</body>
</html>
